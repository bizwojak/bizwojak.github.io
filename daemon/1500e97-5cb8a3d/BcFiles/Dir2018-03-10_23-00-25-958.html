<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style>
.AlignLeft { text-align: left; }
.AlignCenter { text-align: center; }
.AlignRight { text-align: right; }
body { font-family: sans-serif; font-size: 11pt; }
img.AutoScale { max-width: 100%; max-height: 100%; }
td { vertical-align: top; padding-left: 4px; padding-right: 4px; }

tr.SectionGap td { font-size: 4px; border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.SectionAll td { border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.SectionBegin td { border-left: none; border-top: none; border-right: 1px solid Black; }
tr.SectionEnd td { border-left: none; border-top: none; border-bottom: 1px solid Black; border-right: 1px solid Black; }
tr.SectionMiddle td { border-left: none; border-top: none; border-right: 1px solid Black; }
tr.SubsectionAll td { border-left: none; border-top: none; border-bottom: 1px solid Gray; border-right: 1px solid Black; }
tr.SubsectionEnd td { border-left: none; border-top: none; border-bottom: 1px solid Gray; border-right: 1px solid Black; }
table.fc { border-top: 1px solid Black; border-left: 1px solid Black; width: 100%; font-family: monospace; font-size: 10pt; }
td.TextItemInsigMod { color: #000000; background-color: #EEEEFF; }
td.TextItemInsigOrphan { color: #000000; background-color: #FAEEFF; }
td.TextItemNum { color: #696969; background-color: #F0F0F0; }
td.TextItemSame { color: #000000; background-color: #FFFFFF; }
td.TextItemSigMod { color: #000000; background-color: #FFE3E3; }
td.TextItemSigOrphan { color: #000000; background-color: #F1E3FF; }
.TextSegInsigDiff { color: #0000FF; }
.TextSegReplacedDiff { color: #0000FF; font-style: italic; }
.TextSegSigDiff { color: #FF0000; }
td.TextItemInsigAdd { color: #000000; background-color: #EEEEFF; }
td.TextItemInsigDel { color: #000000; background-color: #EEEEFF; text-decoration: line-through; }
td.TextItemSigAdd { color: #000000; background-color: #FFE3E3; }
td.TextItemSigDel { color: #000000; background-color: #FFE3E3; text-decoration: line-through; }
.TextSegElementComment { color: #786A41; }
.TextSegElementBranding { }
</style>
<title>dcrd-1.1.0 <--> hxd-rc1.0 Comparison</title>
</head>
<body>
dcrd-1.1.0 <--> hxd-rc1.0 Comparison<br/>
Produced: 10/3/2018 11:00:25 PM<br/>
&nbsp; &nbsp;
<br/>
Mode:&nbsp; All, Ignoring Unimportant &nbsp;
<br/>
Left file: dcrd-1.1.0\peer\doc.go &nbsp;
<br/>
Right file: hxd-rc1.0\peer\doc.go &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemSame"><span class="TextSegElementComment">// Copyright (c) 2015-2016 The btcsuite developers</span></td>
<td class="AlignCenter">=</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Copyright (c) 2015-2016 The btcsuite developers</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame"><span class="TextSegElementComment">// Copyright (c) 2016 The Decred developers</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Copyright (c) 2016 The Decred developers</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame"><span class="TextSegElementComment">// Use of this source code is governed by an ISC</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Use of this source code is governed by an ISC</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame"><span class="TextSegElementComment">// license that can be found in the LICENSE file.</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame"><span class="TextSegElementComment">// license that can be found in the LICENSE file.</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">/*</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">/*</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Package peer provides a common base for creating and managing <span class="TextSegElementBranding">Decred</span> network</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Package peer provides a common base for creating and managing <span class="TextSegElementBranding">Decred</span> network</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">peers.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">peers.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Overview</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Overview</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">This package builds upon the wire package, which provides the fundamental</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">This package builds upon the wire package, which provides the fundamental</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">primitives necessary to speak the <span class="TextSegElementBranding">decred</span> wire protocol, in order to simplify</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">primitives necessary to speak the <span class="TextSegElementBranding">decred</span> wire protocol, in order to simplify</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">the process of creating fully functional peers.&nbsp; In essence, it provides a</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">the process of creating fully functional peers.&nbsp; In essence, it provides a</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">common base for creating concurrent safe fully validating nodes, Simplified</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">common base for creating concurrent safe fully validating nodes, Simplified</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Payment Verification (SPV) nodes, proxies, etc.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Payment Verification (SPV) nodes, proxies, etc.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">A quick overview of the major features peer provides are as follows:</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">A quick overview of the major features peer provides are as follows:</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Provides a basic concurrent safe <span class="TextSegElementBranding">decred</span> peer for handling <span class="TextSegElementBranding">decred</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Provides a basic concurrent safe <span class="TextSegElementBranding">decred</span> peer for handling <span class="TextSegElementBranding">decred</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; communications via the peer-to-peer protocol</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; communications via the peer-to-peer protocol</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Full duplex reading and writing of <span class="TextSegElementBranding">decred</span> protocol messages</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Full duplex reading and writing of <span class="TextSegElementBranding">decred</span> protocol messages</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Automatic handling of the initial handshake process including protocol</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Automatic handling of the initial handshake process including protocol</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; version negotiation</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; version negotiation</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Asynchronous message queuing of outbound messages with optional channel for</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Asynchronous message queuing of outbound messages with optional channel for</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; notification when the message is actually sent</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; notification when the message is actually sent</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Flexible peer configuration</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Flexible peer configuration</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; - Caller is responsible for creating outgoing connections and listening for</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; - Caller is responsible for creating outgoing connections and listening for</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; incoming connections so they have flexibility to establish connections as</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; incoming connections so they have flexibility to establish connections as</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; they see fit (proxies, etc)</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; they see fit (proxies, etc)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; - User agent name and version</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; - User agent name and version</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; - <span class="TextSegElementBranding">Decred</span> network</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; - <span class="TextSegElementBranding">Decred</span> network</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; - Service support signalling (full nodes, bloom filters, etc)</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; - Service support signalling (full nodes, bloom filters, etc)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; - Maximum supported protocol version</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; - Maximum supported protocol version</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; - Ability to register callbacks for handling <span class="TextSegElementBranding">decred</span> protocol messages</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; - Ability to register callbacks for handling <span class="TextSegElementBranding">decred</span> protocol messages</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Inventory message batching and send trickling with known inventory detection</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Inventory message batching and send trickling with known inventory detection</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; and avoidance</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; and avoidance</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Automatic periodic keep-alive pinging and pong responses</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Automatic periodic keep-alive pinging and pong responses</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Random nonce generation and self connection detection</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Random nonce generation and self connection detection</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Proper handling of bloom filter related commands when the caller does not</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Proper handling of bloom filter related commands when the caller does not</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; specify the related flag to signal support</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; specify the related flag to signal support</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; - Disconnects the peer when the protocol version is high enough</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; - Disconnects the peer when the protocol version is high enough</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; - Does not invoke the related callbacks for older protocol versions</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; - Does not invoke the related callbacks for older protocol versions</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Snapshottable peer statistics such as the total number of bytes read and</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Snapshottable peer statistics such as the total number of bytes read and</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; written, the remote address, user agent, and negotiated protocol version</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; written, the remote address, user agent, and negotiated protocol version</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Helper functions pushing addresses, getblocks, getheaders, and reject</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Helper functions pushing addresses, getblocks, getheaders, and reject</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; messages</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; messages</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; - These could all be sent manually via the standard message output function,</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; - These could all be sent manually via the standard message output function,</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; but the helpers provide additional nice functionality such as duplicate</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; but the helpers provide additional nice functionality such as duplicate</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; filtering and address randomization</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;&nbsp; &nbsp; filtering and address randomization</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Ability to wait for shutdown/disconnect</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Ability to wait for shutdown/disconnect</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;- Comprehensive test coverage</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;- Comprehensive test coverage</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Peer Configuration</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Peer Configuration</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">All peer configuration is handled with the Config struct.&nbsp; This allows the</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">All peer configuration is handled with the Config struct.&nbsp; This allows the</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">caller to specify things such as the user agent name and version, the <span class="TextSegElementBranding">decred</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">caller to specify things such as the user agent name and version, the <span class="TextSegElementBranding">decred</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">network to use, which services it supports, and callbacks to invoke when <span class="TextSegElementBranding">decred</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">network to use, which services it supports, and callbacks to invoke when <span class="TextSegElementBranding">decred</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">messages are received.&nbsp; See the documentation for each field of the Config</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">messages are received.&nbsp; See the documentation for each field of the Config</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">struct for more details.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">struct for more details.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Inbound and Outbound Peers</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Inbound and Outbound Peers</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">A peer can either be inbound or outbound.&nbsp; The caller is responsible for</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">A peer can either be inbound or outbound.&nbsp; The caller is responsible for</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">establishing the connection to remote peers and listening for incoming peers.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">establishing the connection to remote peers and listening for incoming peers.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">This provides high flexibility for things such as connecting via proxies, acting</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">This provides high flexibility for things such as connecting via proxies, acting</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">as a proxy, creating bridge peers, choosing whether to listen for inbound peers,</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">as a proxy, creating bridge peers, choosing whether to listen for inbound peers,</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">etc.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">etc.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">NewOutboundPeer and NewInboundPeer functions must be followed by calling Connect</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">NewOutboundPeer and NewInboundPeer functions must be followed by calling Connect</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">with a net.Conn instance to the peer.&nbsp; This will start all async I/O goroutines</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">with a net.Conn instance to the peer.&nbsp; This will start all async I/O goroutines</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">and initiate the protocol negotiation process.&nbsp; Once finished with the peer call</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">and initiate the protocol negotiation process.&nbsp; Once finished with the peer call</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Disconnect to disconnect from the peer and clean up all resources.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Disconnect to disconnect from the peer and clean up all resources.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">WaitForDisconnect can be used to block until peer disconnection and resource</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">WaitForDisconnect can be used to block until peer disconnection and resource</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">cleanup has completed.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">cleanup has completed.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Callbacks</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Callbacks</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">In order to do anything useful with a peer, it is necessary to react to <span class="TextSegElementBranding">decred</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">In order to do anything useful with a peer, it is necessary to react to <span class="TextSegElementBranding">decred</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">messages.&nbsp; This is accomplished by creating an instance of the MessageListeners</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">messages.&nbsp; This is accomplished by creating an instance of the MessageListeners</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">struct with the callbacks to be invoke specified and setting the Listeners field</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">struct with the callbacks to be invoke specified and setting the Listeners field</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">of the Config struct specified when creating a peer to it.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">of the Config struct specified when creating a peer to it.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">For convenience, a callback hook for all of the currently supported <span class="TextSegElementBranding">decred</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">For convenience, a callback hook for all of the currently supported <span class="TextSegElementBranding">decred</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">messages is exposed which receives the peer instance and the concrete message</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">messages is exposed which receives the peer instance and the concrete message</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">type.&nbsp; In addition, a hook for OnRead is provided so even custom messages types</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">type.&nbsp; In addition, a hook for OnRead is provided so even custom messages types</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">for which this package does not directly provide a hook, as long as they</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">for which this package does not directly provide a hook, as long as they</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">implement the wire.Message interface, can be used.&nbsp; Finally, the OnWrite hook</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">implement the wire.Message interface, can be used.&nbsp; Finally, the OnWrite hook</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">is provided, which in conjunction with OnRead, can be used to track server-wide</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">is provided, which in conjunction with OnRead, can be used to track server-wide</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">byte counts.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">byte counts.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">It is often useful to use closures which encapsulate state when specifying the</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">It is often useful to use closures which encapsulate state when specifying the</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">callback handlers.&nbsp; This provides a clean method for accessing that state when</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">callback handlers.&nbsp; This provides a clean method for accessing that state when</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">callbacks are invoked.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">callbacks are invoked.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Queuing Messages and Inventory</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Queuing Messages and Inventory</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">The QueueMessage function provides the fundamental means to send messages to the</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">The QueueMessage function provides the fundamental means to send messages to the</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">remote peer.&nbsp; As the name implies, this employs a non-blocking queue.&nbsp; A done</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">remote peer.&nbsp; As the name implies, this employs a non-blocking queue.&nbsp; A done</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">channel which will be notified when the message is actually sent can optionally</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">channel which will be notified when the message is actually sent can optionally</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">be specified.&nbsp; There are certain message types which are better sent using other</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">be specified.&nbsp; There are certain message types which are better sent using other</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">functions which provide additional functionality.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">functions which provide additional functionality.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Of special interest are inventory messages.&nbsp; Rather than manually sending MsgInv</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Of special interest are inventory messages.&nbsp; Rather than manually sending MsgInv</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">messages via Queuemessage, the inventory vectors should be queued using the</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">messages via Queuemessage, the inventory vectors should be queued using the</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">QueueInventory function.&nbsp; It employs batching and trickling along with</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">QueueInventory function.&nbsp; It employs batching and trickling along with</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">intelligent known remote peer inventory detection and avoidance through the use</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">intelligent known remote peer inventory detection and avoidance through the use</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">of a most-recently used algorithm.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">of a most-recently used algorithm.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Message Sending Helper Functions</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Message Sending Helper Functions</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">In addition to the bare QueueMessage function previously described, the</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">In addition to the bare QueueMessage function previously described, the</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">PushAddrMsg, PushGetBlocksMsg, PushGetHeadersMsg, and PushRejectMsg functions</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">PushAddrMsg, PushGetBlocksMsg, PushGetHeadersMsg, and PushRejectMsg functions</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">are provided as a convenience.&nbsp; While it is of course possible to create and</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">are provided as a convenience.&nbsp; While it is of course possible to create and</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">send these message manually via QueueMessage, these helper functions provided</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">send these message manually via QueueMessage, these helper functions provided</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">additional useful functionality that is typically desired.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">additional useful functionality that is typically desired.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">For example, the PushAddrMsg function automatically limits the addresses to the</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">For example, the PushAddrMsg function automatically limits the addresses to the</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">maximum number allowed by the message and randomizes the chosen addresses when</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">maximum number allowed by the message and randomizes the chosen addresses when</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">there are too many.&nbsp; This allows the caller to simply provide a slice of known</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">there are too many.&nbsp; This allows the caller to simply provide a slice of known</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">addresses, such as that returned by the addrmgr package, without having to worry</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">addresses, such as that returned by the addrmgr package, without having to worry</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">about the details.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">about the details.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Next, the PushGetBlocksMsg and PushGetHeadersMsg functions will construct proper</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Next, the PushGetBlocksMsg and PushGetHeadersMsg functions will construct proper</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">messages using a block locator and ignore back to back duplicate requests.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">messages using a block locator and ignore back to back duplicate requests.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Finally, the PushRejectMsg function can be used to easily create and send an</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Finally, the PushRejectMsg function can be used to easily create and send an</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">appropriate reject message based on the provided parameters as well as</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">appropriate reject message based on the provided parameters as well as</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">optionally provides a flag to cause it to block until the message is actually</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">optionally provides a flag to cause it to block until the message is actually</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">sent.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">sent.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Peer Statistics</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Peer Statistics</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">A snapshot of the current peer statistics can be obtained with the StatsSnapshot</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">A snapshot of the current peer statistics can be obtained with the StatsSnapshot</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">function.&nbsp; This includes statistics such as the total number of bytes read and</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">function.&nbsp; This includes statistics such as the total number of bytes read and</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">written, the remote address, user agent, and negotiated protocol version.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">written, the remote address, user agent, and negotiated protocol version.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Logging</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Logging</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">This package provides extensive logging capabilities through the UseLogger</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">This package provides extensive logging capabilities through the UseLogger</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">function which allows a btclog.Logger to be specified.&nbsp; For example, logging at</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">function which allows a btclog.Logger to be specified.&nbsp; For example, logging at</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">the debug level provides summaries of every message sent and received, and</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">the debug level provides summaries of every message sent and received, and</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">logging at the trace level provides full dumps of parsed messages as well as the</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">logging at the trace level provides full dumps of parsed messages as well as the</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">raw message bytes using a format similar to hexdump -C.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">raw message bytes using a format similar to hexdump -C.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">Improvement Proposals</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">Improvement Proposals</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">&nbsp;</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">This package supports all improvement proposals supported by the wire package.</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">This package supports all improvement proposals supported by the wire package.</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">(https:<span class="TextSegElementComment">//godoc.org/github.com/decred/dcrd/wire#hdr-Bitcoin_Improvement_Proposals)</span></td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">(https:<span class="TextSegElementComment">//godoc.org/github.com/decred/dcrd/wire#hdr-Bitcoin_Improvement_Proposals)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemSame">*/</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">*/</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemSame">package peer</td>
<td class="AlignCenter">&nbsp;</td>
<td class="TextItemSame">package peer</td>
</tr>
</table>
<br/>
</body>
</html>
